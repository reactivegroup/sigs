<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="566px" preserveAspectRatio="none" style="width:2258px;height:566px;" version="1.1" viewBox="0 0 2258 566" width="2258px" zoomAndPan="magnify"><defs><filter height="300%" id="fwwjfj69wlhgk" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="313" x2="313" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="500" x2="500" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="669" x2="669" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1057.5" x2="1057.5" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1230.5" x2="1230.5" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1401.5" x2="1401.5" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1561.5" x2="1561.5" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1955.5" x2="1955.5" y1="40.2969" y2="523.2891"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2154.5" x2="2154.5" y1="40.2969" y2="523.2891"/><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="12" y="24.9951">ServiceConfig</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="12" y="542.2842">ServiceConfig</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="230" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="237" y="24.9951">ProtocolFilterWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="230" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="237" y="542.2842">ProtocolFilterWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="406" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="413" y="24.9951">ProtocolListenerWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="406" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="413" y="542.2842">ProtocolListenerWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="604" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="611" y="24.9951">RegistryProtocol</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="604" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="611" y="542.2842">RegistryProtocol</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="988.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="995.5" y="24.9951">FilterChainBuilder</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="988.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="995.5" y="542.2842">FilterChainBuilder</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="185" x="1136.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="1143.5" y="24.9951">ListenerExporterWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="185" x="1136.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="1143.5" y="542.2842">ListenerExporterWrapper</text><rect fill="#00FF00" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="109" x="1345.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1352.5" y="24.9951">TripleProtocol</text><rect fill="#00FF00" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="109" x="1345.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1352.5" y="542.2842">TripleProtocol</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1468.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1475.5" y="24.9951">ListenerRegistryWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1468.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1475.5" y="542.2842">ListenerRegistryWrapper</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="187" x="1860.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="1867.5" y="24.9951">ServiceDiscoveryRegistry</text><rect fill="#FEFECE" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="187" x="1860.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="1867.5" y="542.2842">ServiceDiscoveryRegistry</text><rect fill="#00FF00" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="2061.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="2068.5" y="24.9951">WritableMetadataService</text><rect fill="#00FF00" filter="url(#fwwjfj69wlhgk)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="2061.5" y="522.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="2068.5" y="542.2842">WritableMetadataService</text><polygon fill="#A80036" points="301,67.4297,311,71.4297,301,75.4297,305,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="307" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="68" y="66.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="81" y="66.3638">注册service-discovery-registry协议</text><polygon fill="#A80036" points="488,96.5625,498,100.5625,488,104.5625,492,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="494" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="320" y="95.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="333" y="95.4966">透传</text><polygon fill="#A80036" points="657.5,125.6953,667.5,129.6953,657.5,133.6953,661.5,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500" x2="663.5" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="507" y="124.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="520" y="124.6294">注册Metadata服务</text><polygon fill="#A80036" points="324,137.6953,314,141.6953,324,145.6953,320,141.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="318" x2="668.5" y1="141.6953" y2="141.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="330" y="154.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="347" y="154.7622"/><polygon fill="#A80036" points="1045.5,183.9609,1055.5,187.9609,1045.5,191.9609,1049.5,187.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="1051.5" y1="187.9609" y2="187.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="320" y="182.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="333" y="182.895">为Invoker添加Filter</text><polygon fill="#A80036" points="324,195.9609,314,199.9609,324,203.9609,320,199.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="318" x2="1056.5" y1="199.9609" y2="199.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="330" y="213.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="343" y="213.0278">返回嵌套Filter的Invoker</text><polygon fill="#A80036" points="488,242.2266,498,246.2266,488,250.2266,492,246.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="313" x2="494" y1="246.2266" y2="246.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="320" y="241.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="337" y="241.1606"/><polygon fill="#A80036" points="1219,271.3594,1229,275.3594,1219,279.3594,1223,275.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="500" x2="1225" y1="275.3594" y2="275.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="507" y="270.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="520" y="270.2935">为Exporter添加ExporterListener</text><polygon fill="#A80036" points="511,283.3594,501,287.3594,511,291.3594,507,287.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="505" x2="1230" y1="287.3594" y2="287.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="517" y="300.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="530" y="300.4263">返回嵌套ExporterListener的Exporter</text><polygon fill="#A80036" points="1390,329.625,1400,333.625,1390,337.625,1394,333.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1231" x2="1396" y1="333.625" y2="333.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1238" y="328.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="1260" y="328.5591">暴露Triple协议的服务</text><polygon fill="#A80036" points="1550,358.7578,1560,362.7578,1550,366.7578,1554,362.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="669.5" x2="1556" y1="362.7578" y2="362.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="676.5" y="357.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="698.5" y="357.6919">调用Registry注册元数据</text><polygon fill="#A80036" points="1944,387.8906,1954,391.8906,1944,395.8906,1948,391.8906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1950" y1="391.8906" y2="391.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1569" y="386.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1591" y="386.8247">对ServiceDiscoveryRegistry增加RegistryServiceListener</text><polygon fill="#A80036" points="2143,417.0234,2153,421.0234,2143,425.0234,2147,421.0234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1956" x2="2149" y1="421.0234" y2="421.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1963" y="415.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1985" y="415.9575">注册元数据MetedataInfo</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1562" x2="1604" y1="450.1563" y2="450.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1604" x2="1604" y1="450.1563" y2="463.1563"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1563" x2="1604" y1="463.1563" y2="463.1563"/><polygon fill="#A80036" points="1573,459.1563,1563,463.1563,1573,467.1563,1569,463.1563" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="1569" y="445.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="1591" y="445.0903">调用RegistryServiceListener#onRegistry发布注册成功事件</text><line style="stroke:#A80036;stroke-width:1.0;" x1="669.5" x2="711.5" y1="492.2891" y2="492.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="711.5" x2="711.5" y1="492.2891" y2="505.2891"/><line style="stroke:#A80036;stroke-width:1.0;" x1="670.5" x2="711.5" y1="505.2891" y2="505.2891"/><polygon fill="#A80036" points="680.5,501.2891,670.5,505.2891,680.5,509.2891,676.5,505.2891" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="676.5" y="487.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="698.5" y="487.2231">调用RegistryProtocolListener#onExport发布服务注册事件</text></g></svg>