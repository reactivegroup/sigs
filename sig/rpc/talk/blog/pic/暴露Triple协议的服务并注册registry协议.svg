<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="565px" preserveAspectRatio="none" style="width:1974px;height:565px;" version="1.1" viewBox="0 0 1974 565" width="1974px" zoomAndPan="magnify"><defs><filter height="300%" id="f5smfl3bqo7en" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="61" x2="61" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="210" x2="210" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="397" x2="397" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="566" x2="566" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="711" x2="711" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="884" x2="884" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1045" x2="1045" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1205" x2="1205" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1576" x2="1576" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1745" x2="1745" y1="40.2969" y2="522.1563"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1901" x2="1901" y1="40.2969" y2="522.1563"/><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="12" y="24.9951">ServiceConfig</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="108" x="5" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="12" y="541.1514">ServiceConfig</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="127" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="134" y="24.9951">ProtocolFilterWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="162" x="127" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="134" y="541.1514">ProtocolFilterWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="303" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="310" y="24.9951">ProtocolListenerWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="184" x="303" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="310" y="541.1514">ProtocolListenerWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="501" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="508" y="24.9951">RegistryProtocol</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="127" x="501" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="508" y="541.1514">RegistryProtocol</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="642" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="649" y="24.9951">FilterChainBuilder</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="134" x="642" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="649" y="541.1514">FilterChainBuilder</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="185" x="790" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="797" y="24.9951">ListenerExporterWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="185" x="790" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="797" y="541.1514">ListenerExporterWrapper</text><rect fill="#00FF00" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="109" x="989" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="996" y="24.9951">TripleProtocol</text><rect fill="#00FF00" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="109" x="989" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="996" y="541.1514">TripleProtocol</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1112" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1119" y="24.9951">ListenerRegistryWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="183" x="1112" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="1119" y="541.1514">ListenerRegistryWrapper</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="147" x="1501" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1508" y="24.9951">ZookeeperRegistry</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="147" x="1501" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="1508" y="541.1514">ZookeeperRegistry</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="163" x="1662" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1669" y="24.9951">ServiceNameMapping</text><rect fill="#FEFECE" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="163" x="1662" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="1669" y="541.1514">ServiceNameMapping</text><rect fill="#00FF00" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="121" x="1839" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1846" y="24.9951">Registry Center</text><rect fill="#00FF00" filter="url(#f5smfl3bqo7en)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="121" x="1839" y="521.1563"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1846" y="541.1514">Registry Center</text><polygon fill="#A80036" points="198,67.4297,208,71.4297,198,75.4297,202,71.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="204" y1="71.4297" y2="71.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="68" y="66.3638">注册registry协议</text><polygon fill="#A80036" points="385,96.5625,395,100.5625,385,104.5625,389,100.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="210" x2="391" y1="100.5625" y2="100.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="217" y="95.4966">透传</text><polygon fill="#A80036" points="554.5,125.6953,564.5,129.6953,554.5,133.6953,558.5,129.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397" x2="560.5" y1="129.6953" y2="129.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="404" y="124.6294">注册Triple服务</text><polygon fill="#A80036" points="221,139.6953,211,143.6953,221,147.6953,217,143.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="215" x2="565.5" y1="143.6953" y2="143.6953"/><polygon fill="#A80036" points="699,168.8281,709,172.8281,699,176.8281,703,172.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="210" x2="705" y1="172.8281" y2="172.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="217" y="167.7622">为Invoker添加Filter</text><polygon fill="#A80036" points="221,197.9609,211,201.9609,221,205.9609,217,201.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="215" x2="710" y1="201.9609" y2="201.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="227" y="196.895">返回嵌套Filter的Invoker</text><polygon fill="#A80036" points="385,211.9609,395,215.9609,385,219.9609,389,215.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="210" x2="391" y1="215.9609" y2="215.9609"/><polygon fill="#A80036" points="872.5,241.0938,882.5,245.0938,872.5,249.0938,876.5,245.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="397" x2="878.5" y1="245.0938" y2="245.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="404" y="240.0278">为Exporter添加ExporterListener</text><polygon fill="#A80036" points="408,270.2266,398,274.2266,408,278.2266,404,274.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="402" x2="883.5" y1="274.2266" y2="274.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="414" y="269.1606">返回嵌套ExporterListener的Exporter</text><polygon fill="#A80036" points="1033.5,299.3594,1043.5,303.3594,1033.5,307.3594,1037.5,303.3594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="884.5" x2="1039.5" y1="303.3594" y2="303.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="891.5" y="298.2935">暴露Triple协议的服务</text><polygon fill="#A80036" points="1193.5,328.4922,1203.5,332.4922,1193.5,336.4922,1197.5,332.4922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="566.5" x2="1199.5" y1="332.4922" y2="332.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="573.5" y="327.4263">调用Registry注册Triple服务到注册中心</text><polygon fill="#A80036" points="1564.5,357.625,1574.5,361.625,1564.5,365.625,1568.5,361.625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1205.5" x2="1570.5" y1="361.625" y2="361.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="309" x="1212.5" y="356.5591">对ZookeeperRegistry增加RegistryServiceListener</text><polygon fill="#A80036" points="1889.5,386.7578,1899.5,390.7578,1889.5,394.7578,1893.5,390.7578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1576.5" x2="1895.5" y1="390.7578" y2="390.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1583.5" y="385.6919">将Triple实例数据注册到注册中心</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1205.5" x2="1247.5" y1="419.8906" y2="419.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247.5" x2="1247.5" y1="419.8906" y2="432.8906"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1247.5" y1="432.8906" y2="432.8906"/><polygon fill="#A80036" points="1216.5,428.8906,1206.5,432.8906,1216.5,436.8906,1212.5,432.8906" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="331" x="1212.5" y="414.8247">调用RegistryServiceListener#onRegistry发布注册事件</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1205.5" x2="1247.5" y1="462.0234" y2="462.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1247.5" x2="1247.5" y1="462.0234" y2="475.0234"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1206.5" x2="1247.5" y1="475.0234" y2="475.0234"/><polygon fill="#A80036" points="1216.5,471.0234,1206.5,475.0234,1216.5,479.0234,1212.5,475.0234" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="1212.5" y="456.9575">调用ListenerRegistryWrapper#subscribe订阅地址变更事件</text><polygon fill="#A80036" points="1733.5,500.1563,1743.5,504.1563,1733.5,508.1563,1737.5,504.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="61" x2="1739.5" y1="504.1563" y2="504.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="528" x="68" y="499.0903">建立暴露的Triple服务与MetadataReport之间的关系，通过版本号的变更通知Consumer端</text></g></svg>